(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{425:function(a,t,s){"use strict";s.r(t);var e=s(27),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"ddl创建数据库和数据表时需要注意什么"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ddl创建数据库和数据表时需要注意什么"}},[a._v("#")]),a._v(" DDL创建数据库和数据表时需要注意什么")]),a._v(" "),t("h2",{attrs:{id:"ddl基础语法和设计工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ddl基础语法和设计工具"}},[a._v("#")]),a._v(" DDL基础语法和设计工具")]),a._v(" "),t("h3",{attrs:{id:"设计工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设计工具"}},[a._v("#")]),a._v(" 设计工具")]),a._v(" "),t("ul",[t("li",[a._v("工具 navicat\n"),t("blockquote",[t("p",[a._v("可以使用一些可视化工具来创建和操作数据库和数据表")])])])]),a._v(" "),t("h3",{attrs:{id:"ddl基础语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ddl基础语法"}},[a._v("#")]),a._v(" DDL基础语法")]),a._v(" "),t("ul",[t("li",[a._v("数据库定义"),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[a._v("  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("CREATE")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DATABASE")]),a._v(" nba"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//创建一个名为nba的数据库")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DROP")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DATABASE")]),a._v(" nba"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//删除一个名为nba的数据库")]),a._v("\n")])])])]),a._v(" "),t("li",[a._v("数据表定义"),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[a._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//创建表语法")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("CREATE")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLE")]),a._v(" table_name\n")])])])]),a._v(" "),t("li",[a._v("创建表结构"),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[a._v("  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("CREATE")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLE")]),a._v(" player "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("\n      player_id "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("11")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("NOT")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("AUTO_INCREMENT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n      player_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("255")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("NOT")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),a._v(" \n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//NOT NULL表明整个字段不能是空值，是一种数据约束,AUTO_INCREMENT代表主键自动增长")]),a._v("\n")])])]),t("blockquote",[t("p",[a._v("int(11) 代表整数类型，显示长度为 11 位,括号中的参数 11 代表的是最大有效显示长度,"),t("strong",[a._v("与类型包含的数值范围大小无关")])])])])]),a._v(" "),t("h3",{attrs:{id:"修改表结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改表结构"}},[a._v("#")]),a._v(" 修改表结构")]),a._v(" "),t("ul",[t("li",[a._v("添加字段")]),a._v(" "),t("li",[a._v("修改字段名")]),a._v(" "),t("li",[a._v("修改字段的数据类型")]),a._v(" "),t("li",[a._v("删除字段"),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[a._v("  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("ALTER")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLE")]),a._v(" player "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("ADD")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("age "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("11")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("ALTER")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLE")]),a._v(" player "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("RENAME")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("COLUMN")]),a._v(" age "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("to")]),a._v(" player_age"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("ALTER")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLE")]),a._v(" player "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("MODIFY")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("player_age "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("float")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("ALTER")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLE")]),a._v(" player "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DROP")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("COLUMN")]),a._v(" player_age"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])])]),a._v(" "),t("h2",{attrs:{id:"数据表常见约束"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据表常见约束"}},[a._v("#")]),a._v(" 数据表常见约束")]),a._v(" "),t("ul",[t("li",[a._v("主键约束 唯一标识一条记录")]),a._v(" "),t("li",[a._v("外键约束 确保表与表之间引用的完整性\n"),t("ul",[t("li",[a._v("一个表的外键对应另一张表的主键")]),a._v(" "),t("li",[a._v("外键可以是重复的，也可以为空")])])]),a._v(" "),t("li",[a._v("唯一性约束 表明字段在表中的数值是唯一的\n"),t("ul",[t("li",[a._v("即使有了主键，还可以对其他字段进行唯一性约束")]),a._v(" "),t("li",[a._v("唯一性约束相当于创建了一个约束和普通索引，目的是保证字段的正确性，")])])]),a._v(" "),t("li",[a._v("普通索引 只是提升数据检索的速度，并不对字段的唯一性进行约束")]),a._v(" "),t("li",[a._v("NOT NULL约束 表明该字段不应为空，必须有取值")]),a._v(" "),t("li",[a._v("DEFAULT 表明了字段的默认值，这个字段没有取值，就设置为默认值")]),a._v(" "),t("li",[a._v("CHECK 约束 用来检查特定字段取值范围的有效性\n"),t("blockquote",[t("p",[a._v("CHECK 约束的结果不能为 FALSE，比如我们可以对身高 height 的数值进行 CHECK 约束，必须≥0，且＜3，即CHECK(height>=0 AND height<3)。")])])])]),a._v(" "),t("h2",{attrs:{id:"设计数据表的原则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设计数据表的原则"}},[a._v("#")]),a._v(" 设计数据表的原则")]),a._v(" "),t("h3",{attrs:{id:"设计数据表常考虑的各种问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设计数据表常考虑的各种问题"}},[a._v("#")]),a._v(" 设计数据表常考虑的各种问题")]),a._v(" "),t("ul",[t("li",[a._v("用户需要什么数据？")]),a._v(" "),t("li",[a._v("需要在数据表中保存什么数据？")]),a._v(" "),t("li",[a._v("哪些数据是经常访问的数据？")]),a._v(" "),t("li",[a._v("如何提升检索效率？")]),a._v(" "),t("li",[a._v("如何保证数据表中数据的正确性，添加、删除、更新的时候进行怎样的约束？")]),a._v(" "),t("li",[a._v("如何降低数据表的数据冗余度，保证数据表不会因为用户量的增长而迅速扩张？")]),a._v(" "),t("li",[a._v("如何让负责数据库维护的人员更方便的使用数据库？")])]),a._v(" "),t("h3",{attrs:{id:"设计原则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设计原则"}},[a._v("#")]),a._v(" 设计原则")]),a._v(" "),t("ul",[t("li",[a._v("数据表的个数越少越好\n"),t("blockquote",[t("p",[a._v("RDBMS 的核心在于对实体和联系的定义，也就是 E-R 图（Entity Relationship Diagram），数据表越少，证明实体和联系设计得越简洁，既方便理解又方便操作。")])])]),a._v(" "),t("li",[a._v("数据表的字段个数越少越好\n"),t("blockquote",[t("p",[a._v("字段个数越多，数据冗余的可能性越大。设置字段个数少的前提是各个字段相互独立，而不是某个字段的取值可以由其他字段计算出来。\n当然字段个数少是相对的，我们通常会在数据冗余和检索效率中进行平衡。")])])]),a._v(" "),t("li",[a._v("数据表中联合主键的字段个数越少越好\n"),t("blockquote",[t("p",[a._v("设置主键是为了确定唯一性，当一个字段无法确定唯一性的时候，就需要采用联合主键的方式（也就是用多个字段来定义一个主键）。\n联合主键中的字段越多，占用的索引空间越大，不仅会加大理解难度，还会增加运行时间和索引空间，因此联合主键的字段个数越少越好。")])])]),a._v(" "),t("li",[a._v("使用主键和外键越多越好\n"),t("blockquote",[t("p",[a._v("数据库的设计实际上就是定义各种表，以及各种字段之间的关系。这些关系越多，证明这些实体之间的冗余度越低，利用度越高。这样做的好处在于不仅保证了数据表之间的独立性，还能提升相互之间的关联使用率。")])])])]),a._v(" "),t("blockquote",[t("p",[a._v("“三少一多”原则的核心就是简单可复用。简单指的是用更少的表、更少的字段、更少的联合主键字段来完成数据表的设计。可复用则是通过主键、外键的使用来增强数据表之间的复用率。因为一个主键可以理解是一张表的代表。键设计得越多，证明它们之间的利用率越高。")])])])}),[],!1,null,null,null);t.default=n.exports}}]);