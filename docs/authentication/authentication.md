# 认证

## 密码的发展历史

1. 最初的明文密码，一开始认为是安全的-因为它作为凭证存储在数据库存储区中，但随着sql注入的增多，容易被攻击者获取
2. 使用单向的hash加密存储，一开始：即使sql注入获取了加密后的密文，但无法在登陆时输入，获得了暂时的安全，随着攻击者采用存储彩虹表的方式，每次获取到hash密文后，从彩虹表中查询，以破解然后在登陆时输入查找到未单向加密的密码 
3. 为应对彩虹表，使用salt盐密码和明文密码一起存储，然后再通过hash加密，验证时通过hash密文和salt及明文一起对比。因为每个 salt 和密码组合的 hash 都是不同的。
4. 在现代，一秒可以进行数十亿次的hash计算，这样hash加密又变得不安全了。
5. 接着又鼓励使用自适应的单向函数工作因子，工作因子可以随着机器的变化而变化。从而解决了4中的安全问题。常用的自适应单向函数：bcrypt, PBKDF2, scrypt, and argon2.
6. spring security或其他框架都无法提升密码验证的效率，因为这个验证是资源密集化的。然后建议使用长期凭证换为短期凭证，短期凭证可以在不造成任何安全损失的情况下快速验证

## 














